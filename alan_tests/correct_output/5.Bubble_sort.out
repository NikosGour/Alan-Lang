Program(Func(main:PROC)params{}local_defs{Func(bsort:PROC)params{Param(n:INT, refrence:no)
Param(x:INT[], refrence:yes)}local_defs{Func(swap:PROC)params{Param(x:INT, refrence:yes)
Param(y:INT, refrence:yes)}local_defs{IdDef(t:INT)}{Assignment(id(t) = id(x))
Assignment(id(x) = id(y))
Assignment(id(y) = id(t))}
IdDef(changed:BYTE)
IdDef(i:INT)}{Assignment(id(changed) = 'y')
While(id(changed) == 'y'){Assignment(id(changed) = 'n')
Assignment(id(i) = 0)
While(id(i) < id(n1)){If(x[id(i)] > x[id(i)+1]){call(swap){x[id(i)],x[id(i)+1]}
Assignment(id(changed) = 'y')}
Assignment(id(i) = id(i)+1)}}}
Func(writeArray:PROC)params{Param(msg:BYTE[], refrence:yes)
Param(n:INT, refrence:no)
Param(x:INT[], refrence:yes)}local_defs{IdDef(i:INT)}{call(writeString){id(msg)}
Assignment(id(i) = 0)
While(id(i) < id(n)){If(id(i) > 0){call(writeString){","}}
call(writeInteger){x[id(i)]}
Assignment(id(i) = id(i)+1)}
call(writeString){"\n"}}
IdDef(seed:INT)
IdDef(x:INT[16])
IdDef(i:INT)}{Assignment(id(seed) = 65)
Assignment(id(i) = 0)
While(id(i) < 16){Assignment(id(seed) = id(seed)*137+220+id(i)%101)
x[id(i)] = id(seed)
Assignment(id(i) = id(i)+1)}
call(writeArray){"Initial array:",16,id(x)}
call(bsort){16,id(x)}
call(writeArray){"Sorted array:",16,id(x)}})
